is () 
{ 
    comment OBSOLESCENT is USING smartf_is;
    smartf_is $*
}
refreshT () 
{ 
    comment OBSOLESCENT refreshT USING smartf_refreshT;
    smartf_refreshT $*
}
savef () 
{ 
    comment OBSOLESCENT savef USING smartf_savef;
    smartf_savef $*
}
smartf_doc	() { smartf_qrf; }
smartf_init () 
{ 
    source shelllib;
    isfunction dbox && { 
        comment TRACE dbox is already defined;
        return
    };
    comment bkup: Patricias-MacBook-Air.local./Users/applemcg/Dropbox/bin 2013_0903 221958;
    smartf dbox $HOME/Dropbox;
    smartf smartflib $(dbox)/bin/smartflib;
    smartf ETCLIB $(dbox)/etc/lib;
    smartf T $(ETCLIB)/.$(today);
    mkdir -p $(ETCLIB);
    smartf_doc 1>&2
}
smartf_is () 
{ 
    [[ $# -gt 1 ]] && { 
        eval _smartf_is_$1="$2"
    };
    eval echo \$_smartf_is_$1
}
smartf_refreshT () 
{ 
    function lastfuns () 
    { 
        ls $(ETCLIB)/.20* | grep -v '[#~]$' | tail -1
    };
    [[ "$(lastfuns)" == "$(T)" ]] && return;
    fbdy $(functions $(lastfuns)) | T append
}
smartf_savef	() { fbdy $* | T shell_append; }
smartf () 
{ 
    list_traceoff;
    list smartf $1;
    eval " $1 () { \${*:-echo} $2; }"
}
smartf_qrf () 
{ 
    cat  <<EOF
is -- ~ a b, such that "is a" returns b
smartf -- ~ NAME file, s.t. NAME returns "file, and
       -- NAME command, operates "command" on file.
savef -- ~ fa fb fc ..., saves functions in T
refreshT -- saves copies of new functions in T
~_init -- creates smartfs   ETCLIB and T in ETCLIB
EOF

}
smartf_init 1>&2
